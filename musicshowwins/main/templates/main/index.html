{% extends "main/base.html" %}
{% load static %}
{% block title %}
  <title>Title</title>
{% endblock %}
{% block body %}
  <div class="flex flex-col min-h-full items-center mt-2">
    <form class="flex flex-col w-full items-center mb-2">
      <input id="artist-search" type="text" name="search"
        placeholder="Search" autocomplete="off"
        class="border-2 rounded-lg p-2 w-3/4 md:w-1/2 2xl:w-1/4"
        hx-trigger="keyup changed delay:500ms"
        hx-get="wintable" hx-target="#win-list"
        hx-include="#list-filters">
    </form>
    <div class="flex flex-col min-h-full items-center mb-2 w-3/4 md:w-1/2 2xl:w-1/4">
      <form id="list-filters" class="flex w-full justify-between"
        hx-get="wintable" hx-target="#win-list" hx-trigger="change"
        hx-include="#artist-search">
        <div>
          <fieldset>
            <div id="list-type">
              <input
              class="opacity-0 fixed w-16 h-8 z-10"
              type="radio" hx-trigger="click" name="list" value="songs" checked />
              <label
              class="inline-block text-center bg-gray-700 rounded-lg w-16 px-2 py-1
              font-bold text-white opacity-100"
              for="songs">Songs</label>
              <input
              class="opacity-0 fixed w-16 h-8 z-10"
              type="radio" hx-trigger="click" name="list" value="artists" />
              <label 
              class="inline-block text-center bg-gray-700 rounded-lg w-16 py-1
              font-bold text-white opacity-100"
              for="artists">Artists</label>
            </div>
          </fieldset>
        </div>
        <select class="rounded-lg px-2 text-center bg-gray-700 font-bold" name="year">
          <option value="">Since 2014</option>
          {% for year in years %}
            <option value="{{ year }}">{{ year }}</option>
          {% endfor %}
        </select>
      </form>
    </div>
  </div>
  <div id="win-list" class="flex flex-col items-center">
    {% include "main/partials/wintable.html" %}
  </div>
{% endblock %}
